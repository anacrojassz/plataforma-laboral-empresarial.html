<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma Laboral Profesional</title>

<style>
:root{
--azul:#0A2A43;
--azul2:#0F4C81;
--dorado:#C6A84A;
--gris:#f4f6f9;
}

body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:var(--gris);
color:var(--azul);
}

header{
background:var(--azul);
color:white;
padding:20px;
text-align:center;
}

nav{
display:flex;
justify-content:center;
background:var(--azul2);
}

nav button{
flex:1;
padding:12px;
border:none;
background:var(--azul2);
color:white;
cursor:pointer;
font-weight:600;
}

nav button.active{
background:var(--dorado);
color:black;
}

.container{
max-width:1200px;
margin:30px auto;
background:white;
padding:30px;
border-radius:10px;
box-shadow:0 5px 20px rgba(0,0,0,0.1);
}

h2{
border-left:6px solid var(--dorado);
padding-left:10px;
}

input, select{
width:100%;
padding:8px;
margin:6px 0 12px 0;
border-radius:5px;
border:1px solid #ccc;
}

button.calc{
background:var(--azul2);
color:white;
border:none;
padding:10px;
border-radius:6px;
cursor:pointer;
}

button.calc:hover{
background:var(--dorado);
color:black;
}

.card{
background:#eef2f7;
padding:15px;
border-radius:8px;
margin-top:15px;
}

.total{
background:var(--dorado);
color:black;
padding:15px;
border-radius:8px;
font-weight:bold;
margin-top:20px;
}

.table{
width:100%;
border-collapse:collapse;
margin-top:10px;
}

.table th,.table td{
border:1px solid #ddd;
padding:8px;
text-align:center;
}
</style>
</head>

<body>

<header>
<h1>PLATAFORMA LABORAL PROFESIONAL</h1>
<p>Consultas y gestión laboral - Colombia</p>
</header>

<nav>
<button class="active" onclick="abrirTab('empleado',this)">Empleado</button>
<button onclick="abrirTab('empresario',this)">Empresario</button>
<button onclick="abrirTab('historial',this)">Historial</button>
</nav>

<div class="container">

<!-- ================= EMPLEADO ================= -->
<div id="empleado" class="tab">

<h2>Módulo Empleado</h2>

<label>Tipo de Consulta</label>
<select id="tipoConsulta" onchange="cambiarFormulario()">
<option value="nomina">Cálculo Nómina</option>
<option value="liquidacion">Liquidación Contrato</option>
</select>

<div id="formNomina">

<label>Salario mensual</label>
<input type="number" id="salarioNom">

<label>Días trabajados</label>
<input type="number" id="diasNom">

<label>Horas Extra Diurnas</label>
<input type="number" id="extraD" value="0">

<label>Horas Extra Nocturnas</label>
<input type="number" id="extraN" value="0">

<label>Dominicales / Festivos</label>
<input type="number" id="extraDom" value="0">

<label>¿Tiene Auxilio?</label>
<select id="auxNom">
<option value="si">Sí</option>
<option value="no">No</option>
</select>

<button class="calc" onclick="calcularNomina()">Calcular</button>

<div id="resultadoNom"></div>

</div>

<div id="formLiquidacion" style="display:none;">

<label>Salario mensual</label>
<input type="number" id="salarioLiq">

<label>Auxilio transporte</label>
<input type="number" id="auxLiq" value="0">

<label>Fecha inicio</label>
<input type="date" id="inicioLiq">

<label>Fecha fin</label>
<input type="date" id="finLiq">

<button class="calc" onclick="agregarPeriodo()">Agregar Periodo</button>

<div id="periodosLiq"></div>
<div id="totalLiq"></div>

</div>

</div>

<!-- ================= EMPRESARIO ================= -->
<div id="empresario" class="tab" style="display:none;">

<h2>Módulo Empresario</h2>

<input id="empNombre" placeholder="Nombre empleado">
<input id="empCC" placeholder="Cédula">
<input type="number" id="empSalario" placeholder="Salario">

<select id="empRiesgo">
<option value="0.00522">ARL 1 (0.522%)</option>
<option value="0.01044">ARL 2 (1.044%)</option>
<option value="0.02436">ARL 3 (2.436%)</option>
<option value="0.04350">ARL 4 (4.350%)</option>
<option value="0.06960">ARL 5 (6.960%)</option>
</select>

<button class="calc" onclick="guardarEmpleado()">Guardar</button>

<div id="listaEmpresa"></div>
<div id="totalEmpresa"></div>

</div>

<!-- ================= HISTORIAL ================= -->
<div id="historial" class="tab" style="display:none;">
<h2>Historial</h2>
<div id="historialContent"></div>
</div>

</div>

<script>

const SALARIO_MINIMO = 1300000;
let periodos = [];
let empleados = [];

function formatoCOP(v){
return new Intl.NumberFormat('es-CO',{
style:'currency',
currency:'COP',
minimumFractionDigits:0
}).format(v);
}

function abrirTab(tab,btn){
document.querySelectorAll(".tab").forEach(t=>t.style.display="none");
document.querySelectorAll("nav button").forEach(b=>b.classList.remove("active"));
document.getElementById(tab).style.display="block";
btn.classList.add("active");
}

function cambiarFormulario(){
let tipo = document.getElementById("tipoConsulta").value;
document.getElementById("formNomina").style.display = tipo==="nomina"?"block":"none";
document.getElementById("formLiquidacion").style.display = tipo==="liquidacion"?"block":"none";
}

/* ================= NOMINA ================= */

function calcularNomina(){

let salario=parseFloat(document.getElementById("salarioNom").value);
let dias=parseFloat(document.getElementById("diasNom").value);
let extraD=parseFloat(document.getElementById("extraD").value);
let extraN=parseFloat(document.getElementById("extraN").value);
let extraDom=parseFloat(document.getElementById("extraDom").value);
let auxSel=document.getElementById("auxNom").value;

if(!salario || !dias){
alert("Complete salario y días.");
return;
}

if(salario < SALARIO_MINIMO){
alert("Salario inferior al mínimo legal.");
return;
}

let valorHora=salario/240;
let valorDia=salario/30;

let devengado=valorDia*dias;
let aux=auxSel==="si"?(162000/30)*dias:0;

let extras=(extraD*valorHora*1.25)+(extraN*valorHora*1.75)+(extraDom*valorHora*2);

let ibc=devengado+extras;
let salud=ibc*0.04;
let pension=ibc*0.04;

let total=devengado+aux+extras-salud-pension;

document.getElementById("resultadoNom").innerHTML=`
<div class="card">
<table class="table">
