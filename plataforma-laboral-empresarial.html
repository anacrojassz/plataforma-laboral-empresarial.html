<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Plataforma Laboral Integral</title>

<style>
:root{
--azul:#0A2A43;
--azul2:#0F4C81;
--dorado:#C6A84A;
--gris:#f4f6f9;
}

body{
margin:0;
font-family:'Segoe UI',sans-serif;
background:var(--gris);
color:var(--azul);
}

header{
background:var(--azul);
color:white;
padding:20px;
text-align:center;
}

nav{
display:flex;
justify-content:center;
background:var(--azul2);
}

nav button{
flex:1;
padding:12px;
border:none;
background:var(--azul2);
color:white;
cursor:pointer;
font-weight:600;
}

nav button.active{
background:var(--dorado);
color:black;
}

.container{
max-width:1200px;
margin:30px auto;
background:white;
padding:30px;
border-radius:10px;
box-shadow:0 5px 20px rgba(0,0,0,0.1);
}

h2{
border-left:6px solid var(--dorado);
padding-left:10px;
margin-top:30px;
}

input, select{
width:100%;
padding:8px;
margin-bottom:10px;
border-radius:5px;
border:1px solid #ccc;
}

button{
background:var(--azul2);
color:white;
border:none;
padding:10px;
margin-top:10px;
border-radius:6px;
cursor:pointer;
}

button:hover{
background:var(--dorado);
color:black;
}

.table{
width:100%;
border-collapse:collapse;
margin-top:20px;
}

.table th,.table td{
border:1px solid #ddd;
padding:8px;
text-align:center;
}

.result{
margin-top:20px;
padding:15px;
background:#eef2f7;
border-radius:8px;
}

.total{
font-size:18px;
font-weight:bold;
color:var(--dorado);
}
.acordeon{
cursor:pointer;
padding:12px;
background:var(--azul2);
color:white;
margin-top:10px;
border-radius:5px;
}
.panel{
display:none;
padding:15px;
background:#f1f1f1;
}
</style>
</head>

<body>

<header>
<h1>PLATAFORMA LABORAL PROFESIONAL</h1>
<p>Consultas laborales legales – Colombia</p>
</header>

<nav>
<button class="tab-btn active" onclick="openTab(event,'empleado')">Empleado</button>
<button class="tab-btn" onclick="openTab(event,'empleador')">Empleador</button>
<button class="tab-btn" onclick="openTab(event,'formativo')">Formativo</button>
</nav>

<div class="container">

<!-- ================= MÓDULO 1 EMPLEADO ================= -->
<div id="empleado" class="tab" style="display:block;">

<h2>Módulo Empleado</h2>

<label>Tipo de Consulta</label>
<select id="tipoConsultaEmp" onchange="cambiarModoEmp()">
<option value="nomina">Nómina Profesional</option>
<option value="liquidacion">Liquidación Multi-Año</option>
</select>

<div id="nominaEmp">

<label>Tipo de vínculo</label>
<select id="vinculoEmp">
<option value="laboral">Contrato Laboral</option>
<option value="servicios">Prestación de Servicios</option>
</select>

<label>Salario mensual</label>
<input type="number" id="salarioEmp">

<label>Días trabajados</label>
<input type="number" id="diasEmp" value="30">

<label>Horas extra diurna</label>
<input type="number" id="hed">

<label>Horas extra nocturna</label>
<input type="number" id="hen">

<label>Horas dominical</label>
<input type="number" id="dom">

<button onclick="calcularNominaEmp()">Calcular</button>
<div id="resultadoNominaEmp" class="result"></div>

</div>

<div id="liqEmp" style="display:none;">

<label>Salario mensual</label>
<input type="number" id="salarioLiq">

<label>Auxilio transporte</label>
<input type="number" id="auxLiq">

<label>Fecha inicio</label>
<input type="date" id="inicioLiq">

<label>Fecha fin</label>
<input type="date" id="finLiq">

<button onclick="agregarPeriodo()">Agregar Año</button>
<div id="resultadoLiq"></div>

</div>

</div>

<!-- ================= MÓDULO 2 EMPLEADOR ================= -->
<div id="empleador" class="tab" style="display:none;">

<h2>Módulo Empleador</h2>

<label>Tipo de consulta</label>
<select id="tipoConsultaEmpresario">
<option value="nomina">Nómina mensual</option>
<option value="liquidacion">Liquidación empleados</option>
</select>

<input id="nombreEmpl" placeholder="Nombre">
<input id="ccEmpl" placeholder="Cédula">
<input type="number" id="salarioEmpl" placeholder="Salario">

<select id="arl">
<option value="0.00522">ARL Nivel 1</option>
<option value="0.01044">Nivel 2</option>
<option value="0.02436">Nivel 3</option>
<option value="0.0435">Nivel 4</option>
<option value="0.0696">Nivel 5</option>
</select>

<button onclick="agregarEmpleado()">Agregar</button>

<table class="table" id="tablaEmpleador"></table>
<div id="totalEmpleador" class="result"></div>

</div>

<!-- ================= MÓDULO 3 FORMATIVO ================= -->
<div id="formativo" class="tab" style="display:none;">

<h2>Normativa y Formación</h2>

<div class="acordeon" onclick="togglePanel(this)">Código Sustantivo del Trabajo</div>
<div class="panel">
<a href="https://www.funcionpublica.gov.co/eva/gestornormativo/norma.php?i=331" target="_blank">Consultar CST Oficial</a>
</div>

<div class="acordeon" onclick="togglePanel(this)">Ley 50 de 1990</div>
<div class="panel">
<a href="https://www.funcionpublica.gov.co/eva/gestornormativo/norma.php?i=281" target="_blank">Consultar Ley 50</a>
</div>

<div class="acordeon" onclick="togglePanel(this)">Ley 789 de 2002</div>
<div class="panel">
<a href="https://www.funcionpublica.gov.co/eva/gestornormativo/norma.php?i=673" target="_blank">Consultar Ley 789</a>
</div>

<div class="acordeon" onclick="togglePanel(this)">Jornadas e Incapacidades</div>
<div class="panel">
<p>Art. 160 CST – Jornada máxima legal</p>
<p>Art. 168 – Trabajo dominical</p>
<p>Art. 208 – Incapacidades por enfermedad</p>
</div>

</div>

</div>

<script>

function openTab(evt,id){
document.querySelectorAll('.tab').forEach(t=>t.style.display="none");
document.querySelectorAll('.tab-btn').forEach(b=>b.classList.remove("active"));
document.getElementById(id).style.display="block";
evt.currentTarget.classList.add("active");
}

function formato(v){
return v.toLocaleString("es-CO",{style:"currency",currency:"COP",maximumFractionDigits:0});
}

/* EMPLEADO NOMINA */
function calcularNominaEmp(){

let salario=parseFloat(document.getElementById("salarioEmp").value)||0;
let dias=parseFloat(document.getElementById("diasEmp").value)||30;

if(salario<1300000){alert("Validación: salario inferior al mínimo legal");}

let valorHora=salario/240;
let salarioPeriodo=(salario/30)*dias;

let hed=parseFloat(document.getElementById("hed").value)||0;
let hen=parseFloat(document.getElementById("hen").value)||0;
let dom=parseFloat(document.getElementById("dom").value)||0;

let extras=(hed*valorHora*1.25)+(hen*valorHora*1.75)+(dom*valorHora*2);

let salud=salarioPeriodo*0.04;
let pension=salarioPeriodo*0.04;

let total=salarioPeriodo+extras-salud-pension;

document.getElementById("resultadoNominaEmp").innerHTML=`
Salario: ${formato(salarioPeriodo)}<br>
Extras: ${formato(extras)}<br>
Salud: ${formato(salud)}<br>
Pensión: ${formato(pension)}<br>
<div class="total">Total Neto: ${formato(total)}</div>`;
}

/* LIQUIDACION MULTI-AÑO */
let periodos=[];

function agregarPeriodo(){
let salario=parseFloat(document.getElementById("salarioLiq").value)||0;
let inicio=document.getElementById("inicioLiq").value;
let fin=document.getElementById("finLiq").value;

let dias=(new Date(fin)-new Date(inicio))/(1000*60*60*24);

let ces=salario*dias/360;
let prima=salario*dias/360;
let vac=salario*dias/720;
let intCes=ces*0.12*(dias/360);

let total=ces+prima+vac+intCes;

periodos.push(total);

let acumulado=periodos.reduce((a,b)=>a+b,0);

document.getElementById("resultadoLiq").innerHTML+=`
<div class="result">
Periodo: ${formato(total)}
</div>
<div class="total">Acumulado: ${formato(acumulado)}</div>`;
}

/* EMPLEADOR */
let empleados=[];

function agregarEmpleado(){
let salario=parseFloat(document.getElementById("salarioEmpl").value)||0;
let arl=parseFloat(document.getElementById("arl").value)||0;

let costo=salario+(salario*0.085)+(salario*0.12)+(salario*arl)+(salario*0.04)+(salario*0.03)+(salario*0.02);

empleados.push(costo);

let total=empleados.reduce((a,b)=>a+b,0);

document.getElementById("tablaEmpleador").innerHTML+=`
<tr><td>${formato(costo)}</td></tr>`;

document.getElementById("totalEmpleador").innerHTML=
`<div class="total">Total Nómina Empresa: ${formato(total)}</div>`;
}

/* FORMATIVO */
function togglePanel(el){
let panel=el.nextElementSibling;
panel.style.display=panel.style.display==="block"?"none":"block";
}

</script>

</body>
</html>


